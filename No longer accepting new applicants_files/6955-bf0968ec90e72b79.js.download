"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6955],{53599:function(n,t,e){e.d(t,{K:function(){return u}});var r=e(48738),o=e(69770),u=function(n){return"string"==typeof n&&(0,r.Z)(n)&&4===(0,o.Z)(n)}},52021:function(n,t,e){var r,o,u,i,l,a,d,c,f,s,p,v;e.d(t,{CB:function(){return l},Km:function(){return a},Us:function(){return r},cX:function(){return u},wx:function(){return i}}),(d=r||(r={})).Insert="FormBuilder.Insert",d.Replace="FormBuilder.Replace",d.ReplaceAll="FormBuilder.ReplaceAll",d.Remove="FormBuilder.Remove",d.Move="FormBuilder.Move",d.CreateColumnList="FormBuilder.CreateColumnList",d.CreateColumn="FormBuilder.CreateColumn",d.AddToColumn="FormBuilder.AddToColumn",d.DetachFromColumn="FormBuilder.DetachFromColumn",d.UpdateColumnRatio="FormBuilder.UpdateColumnRatio",d.UpdateValue="FormBuilder.UpdateValue",d.UpdatePayload="FormBuilder.UpdatePayload",d.Refresh="FormBuilder.Refresh",d.RefreshAll="FormBuilder.RefreshAll",d.UpdateFormSettings="FormBuilder.UpdateFormSettings",d.OpenInsertBlockMenu="FormBuilder.OpenInsertBlockMenu",d.OpenBlockSettingsContextMenu="FormBuilder.OpenBlockSettingsContextMenu",d.OpenBlockActionsContextMenu="FormBuilder.OpenBlockActionsContextMenu",d.OpenTextFormatContextMenu="FormBuilder.OpenTextFormatContextMenu",d.OpenAuthMenu="FormBuilder.OpenAuthMenu",d.OpenTallyProMenu="FormBuilder.OpenTallyProMenu",d.OpenMentionMenu="FormBuilder.OpenMentionMenu",d.OpenMentionSettingsMenu="FormBuilder.OpenMentionSettingsMenu",d.InsertMention="FormBuilder.InsertMention",d.RemoveMention="FormBuilder.RemoveMention",d.UpdateMention="FormBuilder.UpdateMention",d.UpdateConditionals="FormBuilder.UpdateConditionals",d.UpdateConditionalActions="FormBuilder.UpdateConditionalAction",d.UpdateCalculatedFields="FormBuilder.UpdateCalculatedFields",d.UpdateHiddenFields="FormBuilder.UpdateHiddenFields",d.OpenCommandsMenu="FormBuilder.OpenCommandsMenu",d.OpenBulkInsertOptionsMenu="FormBuilder.OpenBulkInsertOptionsMenu",d.Undo="FormBuilder.Undo",d.Redo="FormBuilder.Redo",d.AddTitle="FormBuilder.AddTitle",(c=o||(o={})).Question="QUESTION",c.Field="FIELD",c.Layout="LAYOUT",(f=u||(u={})).Upload="UPLOAD",f.Link="LINK",f.Unsplash="UNSPLASH",f.Gallery="GALLERY",(s=i||(i={})).Start="START",s.End="END",s.Inherit="INHERIT",(p=l||(l={})).SignUp="SIGN_UP",p.Publish="PUBLISH",p.PaymentBlock="PAYMENT_BLOCK",p.TallyPro="TALLY_PRO",(v=a||(a={})).AddLink="ADD_LINK",v.ApplyLastTextColor="APPLY_LAST_TEXT_COLOR"},58497:function(n,t,e){var r,o,u,i,l,a,d,c,f,s;e.d(t,{Fn:function(){return r},LN:function(){return o},Us:function(){return l},mO:function(){return u},yR:function(){return i}}),(a=r||(r={})).And="AND",a.Or="OR",(d=o||(o={})).Addition="ADDITION",d.Subtraction="SUBTRACTION",d.Multiplication="MULTIPLICATION",d.Division="DIVISION",d.Assignment="ASSIGNMENT",(c=u||(u={})).Is="IS",c.IsNot="IS_NOT",c.IsAnyOf="IS_ANY_OF",c.IsEveryOf="IS_EVERY_OF",c.Contains="CONTAINS",c.DoesNotContain="DOES_NOT_CONTAIN",c.StartsWith="STARTS_WITH",c.DoesNotStartWith="DOES_NOT_START_WITH",c.EndsWith="ENDS_WITH",c.DoesNotEndWith="DOES_NOT_END_WITH",c.IsEmpty="IS_EMPTY",c.IsNotEmpty="IS_NOT_EMPTY",c.Equal="EQUAL",c.NotEqual="NOT_EQUAL",c.GreaterThan="GREATER_THAN",c.LessThan="LESS_THAN",c.GreaterOrEqualThan="GREATER_OR_EQUAL_THAN",c.LessOrEqualThan="LESS_OR_EQUAL_THAN",c.IsBefore="IS_BEFORE",c.IsAfter="IS_AFTER",(f=i||(i={})).Single="SINGLE",f.Group="GROUP",(s=l||(l={})).JumpToPage="JUMP_TO_PAGE",s.Calculate="CALCULATE",s.RequireAnswer="REQUIRE_ANSWER",s.ShowBlocks="SHOW_BLOCKS",s.HideBlocks="HIDE_BLOCKS",s.HideButtonToDisableCompletion="HIDE_BUTTON_TO_DISABLE_COMPLETION"},32304:function(n,t,e){e.d(t,{SL:function(){return c},Yq:function(){return p},_5:function(){return f},_L:function(){return a},_c:function(){return v},iu:function(){return s},sw:function(){return d}});var r=e(11714),o=e(2689),u=e.n(o),i=e(52021),l=e(35531),a=function(n,t){return!!t&&!!t.isRequired&&(null==t?void 0:t.isRequired)&&(t.titleBlockUuid===n||!t.titleBlockUuid&&t.isRequiredBlockUuid===n)},d=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],o=!1,u=!0,i=!1,l=void 0;try{for(var a,d=n[Symbol.iterator]();!(u=(a=d.next()).done);u=!0){var c=a.value;if(o||c.uuid===t)o=!0;else{r.push(c);continue}if(o&&e.includes(c.type)){r.push(c);continue}}}catch(n){i=!0,l=n}finally{try{u||null==d.return||d.return()}finally{if(i)throw l}}return r},c=function(n,t){if(!r.LQ.includes(n.type))return!1;var e=t.find(function(t){return t.groupUuid===n.blockGroupUuid});return!e||e.type!==r.kH.MultipleChoiceOption&&e.type!==r.kH.Dropdown||!e.payload.allowMultiple},f=function(n,t){return p(n)||r.kH.Matrix===n.type||(null==t?void 0:t.includeQuestions)&&r.$5.includes(n.type)},s=function(n,t,e){var r=[];return f(n,e)&&(r=u()((0,l.ob)(t.startBlockUuid)+1,(0,l.ob)(t.endBlockUuid)+1)),r},p=function(n){return n.payload.isFolded&&r.$5.includes(n.type)},v=function(n,t){return r.H.includes(n)&&[i.Us.CreateColumnList,i.Us.CreateColumn,i.Us.AddToColumn].includes(t)}},19358:function(n,t,e){e.d(t,{p:function(){return u},u:function(){return o}});var r=e(11714),o=function(n,t){var e=t.find(function(t){return t.uuid===n});if(!e)return"";if("value"in e)return(0,r.CL)((0,r.Vt)(e.value));var o=e.payload.safeHTMLSchema;return(0,r.Vt)((0,r.Du)(o))},u=function(n){if(!n||0===n.length)return[];var t,e=n[0].payload;if(!e.randomize)return[];var r=null!==(t=e.lockInPlace)&&void 0!==t?t:[],o=[];return n.forEach(function(n){r.includes(n.uuid)?o.push(n.uuid):n.payload.isOtherOption&&o.push(n.uuid)}),o}},93863:function(n,t,e){e.d(t,{$Q:function(){return v},DM:function(){return a},UZ:function(){return s},V3:function(){return l},VY:function(){return d},X4:function(){return p},YB:function(){return f},YQ:function(){return m},fG:function(){return c},vE:function(){return i},xQ:function(){return y},yj:function(){return h}});var r=e(1547),o=e(11107),u={},i={red:o.B.redDark2,orange:o.B.orangeDark2,yellow:o.B.yellowDark2,green:o.B.greenDark2,blue:o.B.blueDark2,purple:o.B.purpleDark2,pink:o.B.pinkDark2,gray:o.B.text},l={gray:o.B.grayBackground,red:o.B.redLight2,orange:o.B.orangeLight2,yellow:o.B.yellowLight1,green:o.B.greenLight2,blue:o.B.blueLight2,purple:o.B.purpleLight2,pink:o.B.pinkLight2},a={gray:o.B.grayBackground,red:o.B.redLight1,orange:o.B.orangeLight1,yellow:o.B.yellowLight1,green:o.B.greenLight1,blue:o.B.blueLight1,purple:o.B.purpleLight1,pink:o.B.pinkLight1},d={gray:o.B.gray,red:o.B.red,orange:o.B.orange,yellow:o.B.yellowDark1,green:o.B.green,blue:o.B.blue,purple:o.B.purple,pink:o.B.pink},c=function(n,t){var e="".concat(n,"_").concat(t);if(u[e])return u[e];var o=(0,r.Z)(n).setAlpha(t).toRgbString();return u[e]=o,o},f=function(n){return"".concat((0,r.Z)(n).setAlpha(.12).toRgbString(),"  0px 1px 1px 0px, ").concat((0,r.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px, ").concat((0,r.Z)(n).setAlpha(.08).toRgbString()," 0px 2px 5px 0px")},s=function(n){return"".concat((0,r.Z)(n).setAlpha(.12).toRgbString()," 0px 1px 1px 0px, ").concat((0,r.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px,").concat((0,r.Z)(n).setAlpha(.08).toRgbString()," 0px 3px 9px 0px, ").concat((0,r.Z)(n).setAlpha(.08).toRgbString()," 0px 2px 5px 0px")},p=function(n){return"".concat(n," 0px 0px 0px 2px, ").concat((0,r.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px")},v=function(n){return"".concat((0,r.Z)(n).setAlpha(.36).toRgbString()," 0px 0px 0px 4px, ").concat((0,r.Z)(n).setAlpha(.16).toRgbString()," 0px 0px 0px 1px")},y=function(n){return"".concat((0,r.Z)(n).setAlpha(.36).toRgbString()," 0px 0px 0px 4px, ").concat(n," 0px 0px 0px 2px")},h=function(n){var t=Object.keys(i);return t[n%t.length]},m=function(n,t){return!!n&&!!t&&(0,r.Z)(n).toHex()===(0,r.Z)(t).toHex()}},96700:function(n,t,e){e.d(t,{X:function(){return l},_:function(){return i}});var r,o=e(81862),u=e(50853),i=function(n){return new Promise(function(t){return setTimeout(t,n)})},l=(r=(0,o._)(function(n){var t,e,r,o=arguments;return(0,u.Jh)(this,function(u){switch(u.label){case 0:t=o.length>1&&void 0!==o[1]?o[1]:250,e=o.length>2&&void 0!==o[2]?o[2]:null,r=0,u.label=1;case 1:if(!(!n()&&(null===e||r<e)))return[3,3];return[4,i(t)];case 2:return u.sent(),r+=t,[3,1];case 3:return[2]}})}),function(n){return r.apply(this,arguments)})},35531:function(n,t,e){e.d(t,{A9:function(){return F},AU:function(){return M},C_:function(){return b},F7:function(){return O},FD:function(){return y},FF:function(){return N},Fz:function(){return S},KH:function(){return m},KS:function(){return p},M3:function(){return x},NJ:function(){return s},QO:function(){return _},Qe:function(){return C},Tp:function(){return k},Xm:function(){return w},ZD:function(){return h},bI:function(){return L},bc:function(){return D},cj:function(){return g},df:function(){return d},e7:function(){return W},gZ:function(){return E},ld:function(){return q},ly:function(){return v},mh:function(){return R},ob:function(){return T},qX:function(){return A},rh:function(){return H},uN:function(){return I},w3:function(){return P},xs:function(){return c},yG:function(){return a},zM:function(){return G}});var r=e(11714),o=e(56974),u=e.n(o),i=e(28967),l=e(33765),a=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.innerHTML=t,e&&n.focus()},d=function(n){return n.forEach(function(t,e){var r;t.nodeType===Node.ELEMENT_NODE&&(0===t.childNodes.length||(null===(r=t.textContent)||void 0===r?void 0:r.length)===0)&&n.item(e).remove(),t.nodeType===Node.ELEMENT_NODE&&t.childNodes.length>0&&d(t.childNodes)}),n},c=function(n){var t="";return n.forEach(function(n){t+=n.nodeType===Node.TEXT_NODE?n.textContent:n.outerHTML}),t},f=function(n){return Array.from(n.childNodes).filter(function(n){return!(n.nodeType===Node.TEXT_NODE&&""===n.textContent)})},s=function(n){for(var t=function(n){return f(n)[0]||null},e=t(n);e&&t(e);)e=t(e);return e},p=function(n){for(var t=function(n){return u()(f(n))||null},e=t(n);e&&t(e);)e=t(e);return e},v=function(n){var t,e;return n.nodeType===Node.ELEMENT_NODE?t=n.closest("[contenteditable]"):t=null===(e=n.parentElement)||void 0===e?void 0:e.closest("[contenteditable]"),(null==t?void 0:t.getAttribute("contenteditable"))==="true"},y=function(n){var t=n.nodeType===Node.ELEMENT_NODE?n:n.parentElement;if(!t)return null;for(var e=t.nextSibling,r=t.previousSibling,o=!0;o;){if(e&&v(e))return e;if(e&&(e=e.nextSibling),r&&v(r))return r;r&&(r=r.previousSibling),e||r||(o=!1)}return null},h=function(n,t){var e,r=document.elementFromPoint(n,t);if(!r)return null;var o=r.childNodes;if(0===o.length)return r;var u=r.querySelector(".content-editable-block");u&&(o=u.childNodes);for(var i=[],l=0;l<o.length;l++){var a=document.createRange();a.selectNode(o[l]);for(var d=a.getClientRects(),c=0;c<d.length;c++){var f=d[c];if(t===f.top&&i.push(o[l]),n>=f.left&&n<=f.right&&t>=f.top&&t<=f.bottom){e=o[l];break}}if(e)break}return!e&&i.length>0?i.pop():e||r},m=function(n,t,e){var r=n.parentElement&&"rtl"===getComputedStyle(n.parentElement).direction,o=!1,u=0;try{for(;!o;){var i=document.createRange();i.setStart(n,u);var a=(0,l.N7)(i),d=a.x,c=a.y;if(e===c&&(!r&&t<=d||r&&t>=d)){o=!0;continue}u++}}catch(n){u=u>0?u-1:0}return u},g=function(){return"undefined"==typeof document?[]:Array.from(document.querySelectorAll(".content-editable-block"))},k=function(n){return"undefined"==typeof document?null:document.getElementById(n)},b=function(n){var t;return null!==(t=g()[n])&&void 0!==t?t:null},N=function(n){var t=n-2,e=b(n),r=K(),o=r.findIndex(function(n){return n.dataset.blockUuid===(null==e?void 0:e.id)});if(-1===o){var u=j(n);if(-1===(o=r.findIndex(function(n){return n.dataset.blockGroupUuid===u})))return t}var i=r[o-2];return i?t=T(i.dataset.blockUuid):t},x=function(n){var t=n+1,e=b(n),r=K(),o=r.findIndex(function(n){return n.dataset.blockUuid===(null==e?void 0:e.id)});if(-1===o){var u=j(n);if(-1===(o=r.findIndex(function(n){return n.dataset.blockGroupUuid===u})))return t}var i=r[o+1];return i?t=T(i.dataset.blockUuid):t},S=function(n){var t,e;return null!==(e=null===(t=k(n))||void 0===t?void 0:t.innerHTML)&&void 0!==e?e:""},T=function(n){var t=k(n);return t?g().indexOf(t):-1},O=function(n){var t=b(n);if(!t)return null;var e=t.closest(".tally-block");if(!e)return null;var r=Array.from(e.classList).find(function(n){return -1!==n.indexOf("tally-block-")});return r?Z(r):null},E=function(n){if(n.nodeType===Node.ELEMENT_NODE&&(null===(t=n.className)||void 0===t?void 0:t.indexOf("content-editable-block"))!==-1)return n;var t,e,r=n.parentElement;return r?r.nodeType===Node.ELEMENT_NODE&&(null===(e=r.className)||void 0===e?void 0:e.indexOf("content-editable-block"))!==-1?r:r.closest(".content-editable-block"):null},A=function(n){if(!n)return -1;if(n.className&&n.className.indexOf&&-1!==n.className.indexOf("content-editable-block"))return g().indexOf(n);var t=n.closest(".block-container");if(!t)return -1;var e=t.querySelector(".content-editable-block");return e?g().indexOf(e):-1},C=function(){return"undefined"!=typeof document&&document.activeElement&&-1!==document.activeElement.className.indexOf("content-editable-block")?document.activeElement:null},U=function(){if("undefined"==typeof document)return null;var n=document.querySelector(".tally-block:hover");return n?n.querySelector(".content-editable-block"):null},B=function(){var n=C();return n?n.getAttribute("id"):null},H=function(){var n=B();return n?S(n):""},w=function(){var n=C();return n?g().indexOf(n):-1},_=function(){var n=U();return n?g().indexOf(n):-1},M=function(n){var t=C();if(t){var e=(0,l.Ct)(),r=e.x,o=e.y;a(t,n);var u=h(r,o);if(u){var i=m(u,r,o);(0,l.KJ)(u,i)}}},F=function(n){for(var t=g().splice(0,n).reverse(),e=-1;t.length>0&&e<0;){var r=t.shift();n--,"true"===r.getAttribute("contenteditable")&&"false"===r.dataset.isFolded&&(e=n)}return e},L=function(n){for(var t=g().splice(n+1),e=-1;t.length>0&&e<0;){var r=t.shift();n++,"true"===r.getAttribute("contenteditable")&&"false"===r.dataset.isFolded&&(e=n)}return e},R=function(n){for(var t=g().splice(0,n).reverse(),e=-1;t.length>0&&e<0;){var r=t.shift();n--,"true"===r.dataset.isSelectable&&"false"===r.dataset.isFolded&&(e=n)}return e},I=function(n){for(var t=g().splice(n+1),e=-1;t.length>0&&e<0;){var r=t.shift();n++,"true"===r.dataset.isSelectable&&"false"===r.dataset.isFolded&&(e=n)}return e},D=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){if(e){if(a(e,n,t.focus),t.focus){var r=e.closest(".block-container");if(!r)return;var o=r.getBoundingClientRect(),u=o.top,i=o.bottom,d=o.height;u>=0&&i<=window.innerHeight-200||window.scrollTo(0,document.documentElement.scrollTop+d)}if(t.cursor){var c=h(t.cursor.x,t.cursor.y);c&&(0,l.KJ)(c,m(c,t.cursor.x,t.cursor.y))}}}},P=function(){return function(n){if(n){var t,e;null===(e=n.closest(".block-container"))||void 0===e||null===(t=e.querySelector(".add-container"))||void 0===t||t.click()}}},q=function(n){return function(t){t&&a(t,n)}},G=function(n,t){var e,r=n?k(n):C();if(!r)return{top:0,bottom:0,left:0,right:0};var o=r.closest(".block-container");if(!o)return{top:0,bottom:0,left:0,right:0};var u=null!==(e=o.querySelector(".".concat(t)))&&void 0!==e?e:o;return{top:u.getBoundingClientRect().bottom+5+(0,i.sw)(),bottom:window.innerHeight-u.getBoundingClientRect().top-(0,i.sw)()+5,left:u.getBoundingClientRect().left+window.pageXOffset,right:window.innerWidth-u.getBoundingClientRect().right-window.pageXOffset}},Z=function(n){return n.replace("tally-block-","").replace(/-/g,"_").toUpperCase()},j=function(n){var t=b(n);if(!t)return null;var e=t.closest(".tally-block");if(!e)return null;var r=Array.from(e.classList).find(function(n){return -1!==n.indexOf("tally-block-group-")});return r?r.replace("tally-block-group-",""):null},W=function(){return null!==document.querySelector(".tally-context-menu-overlay")},K=function(){return Array.from(document.querySelectorAll('.move-dropzone[data-style="block"]')).filter(function(n){return!1===[r.kH.MatrixColumn,r.kH.MatrixRow].includes(n.dataset.blockType)})}},47704:function(n,t,e){e.d(t,{In:function(){return f},VN:function(){return s},WW:function(){return c},cO:function(){return y},dV:function(){return v},m8:function(){return p}});var r=e(44822),o=e(11714),u=e(6364),i=e(58497),l=e(32304),a=e(63820),d=e(19358),c=function(){return{uuid:(0,u.Z)()}},f=function(){return{uuid:(0,u.Z)()}},s=function(n,t){var e=[],u=[],i=(0,r._)(n);return(null==t?void 0:t.beforeBlockUuid)&&(n=(0,l.sw)(n,t.beforeBlockUuid,null==t?void 0:t.alwaysIncludeBlockTypes)),(null==t?void 0:t.filterOutBlockTypes)&&t.filterOutBlockTypes.length>0&&(n=n.filter(function(n){var e=n.type;return!1===t.filterOutBlockTypes.includes(e)})),(null==t?void 0:t.includeMetadata)?(e.push({uuid:"id",type:o.fS.Metadata,questionType:o.kH.FormTitle,blockGroupUuid:"id",title:"id"}),e.push({uuid:"respondentId",type:o.fS.Metadata,questionType:o.kH.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"}),e.push({uuid:"formName",type:o.fS.Metadata,questionType:o.kH.FormTitle,blockGroupUuid:"formName",title:"formName"})):(null==t?void 0:t.includeRespondentMetadata)&&(e.push({uuid:"ipAddress",type:o.fS.Metadata,questionType:o.kH.FormTitle,blockGroupUuid:"ipAddress",title:"ipAddress"}),e.push({uuid:"respondentId",type:o.fS.Metadata,questionType:o.kH.FormTitle,blockGroupUuid:"respondentId",title:"respondentId"})),n.forEach(function(r){if(!u.includes(r.groupUuid)){if(r.type===o.kH.CalculatedFields)r.payload.calculatedFields.filter(function(n){return n.name&&n.type}).forEach(function(n){e.push({uuid:n.uuid,type:o.fS.CalculatedField,questionType:o.kH.CalculatedFields,blockGroupUuid:r.groupUuid,title:n.name||"",calculatedFieldType:n.type})});else if(r.type===o.kH.HiddenFields)r.payload.hiddenFields.forEach(function(n){e.push({uuid:n.uuid,type:o.fS.HiddenField,questionType:o.kH.HiddenFields,blockGroupUuid:r.groupUuid,title:n.name||""})});else if(r.type!==o.kH.Matrix||(null==t?void 0:t.combineMatrix)){var l=(0,a.Z9)(r,i);l&&e.push({uuid:l.blockGroupUuid,type:o.fS.InputField,questionType:l.type,blockGroupUuid:l.blockGroupUuid,title:(0,o.CL)(l.title||"")})}else{var c=n.filter(function(n){return n.groupUuid===r.groupUuid&&n.type===o.kH.MatrixRow}),f=(0,a.Z9)(r,i);c.forEach(function(n){var t=(0,d.u)(n.uuid,i);f&&f.title&&f.title!==o.d4[o.kH.Matrix]&&(t="".concat(f.title," [").concat(t,"]")),e.push({uuid:n.uuid,type:o.fS.InputField,questionType:o.kH.Matrix,blockGroupUuid:n.groupUuid,title:t})})}u.push(r.groupUuid)}}),e},p=function(n,t){var e=n.title;return n.type===o.fS.Metadata&&(e=t("form-builder.mention-menu.metadata.".concat(n.uuid))),e},v=function(n,t,e){var r=!1,u=!0,l=!1,a=void 0;try{for(var d,c,f=(null!==(d=n.conditionals)&&void 0!==d?d:[])[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var s,p,y,h,m,g=c.value;if((null===(p=g.payload)||void 0===p?void 0:null===(s=p.field)||void 0===s?void 0:s.blockGroupUuid)&&e.includes(g.payload.field.blockGroupUuid)||(null===(h=g.payload)||void 0===h?void 0:null===(y=h.value)||void 0===y?void 0:y.blockGroupUuid)&&e.includes(g.payload.value.blockGroupUuid)||g.type===i.yR.Group&&(null===(m=g.payload)||void 0===m?void 0:m.conditionals)&&(r=v(g.payload,t,e)))return!0}}catch(n){l=!0,a=n}finally{try{u||null==f.return||f.return()}finally{if(l)throw a}}var k=!0,b=!1,N=void 0;try{for(var x,S,T=(null!==(x=n.actions)&&void 0!==x?x:[])[Symbol.iterator]();!(k=(S=T.next()).done);k=!0){var O,E,A,C,U,B,H,w,_,M,F,L=S.value;if((null===(O=L.payload)||void 0===O?void 0:O.requireAnswer)&&e.includes(L.payload.requireAnswer)||(null===(C=L.payload)||void 0===C?void 0:null===(A=C.calculate)||void 0===A?void 0:null===(E=A.field)||void 0===E?void 0:E.blockGroupUuid)&&e.includes(L.payload.calculate.field.blockGroupUuid))return!0;if((null===(H=L.payload)||void 0===H?void 0:null===(B=H.calculate)||void 0===B?void 0:null===(U=B.value)||void 0===U?void 0:U.blockGroupUuid)&&e.includes(L.payload.calculate.value.blockGroupUuid))return!0;if((null===(w=L.payload)||void 0===w?void 0:w.showBlocks)&&L.payload.showBlocks.some(function(n){return n===t.uuid}))return!0;else if((null===(_=L.payload)||void 0===_?void 0:_.hideBlocks)&&L.payload.hideBlocks.some(function(n){return n===t.uuid}))return!0;else if((null===(M=L.payload)||void 0===M?void 0:M.jumpToPage)===t.uuid||(null===(F=L.payload)||void 0===F?void 0:F.jumpToPage)&&t.type===o.kH.PageBreak)return!0}}catch(n){b=!0,N=n}finally{try{k||null==T.return||T.return()}finally{if(b)throw N}}return r},y=function(n,t){var e=!0,r=!1,o=void 0;try{for(var u,i=n.calculatedFields[Symbol.iterator]();!(e=(u=i.next()).done);e=!0){var l,a=u.value;if((null===(l=a.value)||void 0===l?void 0:l.blockGroupUuid)&&t.includes(a.value.blockGroupUuid))return!0}}catch(n){r=!0,o=n}finally{try{e||null==i.return||i.return()}finally{if(r)throw o}}return!1}},33765:function(n,t,e){e.d(t,{B4:function(){return b},Ct:function(){return s},G0:function(){return p},JA:function(){return k},KJ:function(){return u},N7:function(){return f},NZ:function(){return c},RN:function(){return m},ct:function(){return v},fI:function(){return d},iD:function(){return N},kL:function(){return h},lT:function(){return g},oR:function(){return i},sg:function(){return a},ut:function(){return l},yZ:function(){return y}});var r=e(52021),o=e(35531),u=function(n,t){try{var e=document.createRange();e.setStart(n,t);var r=window.getSelection();null==r||r.removeAllRanges(),null==r||r.addRange(e)}catch(n){}},i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="",e=window.getSelection();try{if(e&&e.rangeCount>0&&e.focusNode){var r=e.getRangeAt(0).cloneRange();r.collapse(!0),r.setStart(e.focusNode,0);var o=r.toString();t=o.charAt(o.length-n)}}catch(n){}return t},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="",e=window.getSelection();try{if(e&&e.rangeCount>0&&e.focusNode){var r=e.getRangeAt(0).cloneRange();r.collapse(!0),r.setEnd(e.focusNode,e.focusOffset+n),t=r.toString().charAt(n-1)}}catch(n){}return t},a=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?n.focusOffset:0},d=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?n.focusNode:null},c=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?[n.focusNode,n.focusOffset]:[null,0]},f=function(n){try{var t=n.getClientRects();if(n.collapsed&&n.startContainer&&n.startContainer.nodeType===Node.ELEMENT_NODE&&(0===n.startContainer.childNodes.length||0===t.length)){var e=n.startContainer,r="rtl"===getComputedStyle(e).direction,o=n.startContainer.getBoundingClientRect();return{x:r?o.right:o.x,y:o.y}}if(0===t.length)return{x:0,y:0};var u=t[0],i=u.x,l=u.y;return{x:i,y:l}}catch(n){return{x:0,y:0}}},s=function(){var n=window.getSelection();return n&&n.rangeCount&&n.focusNode?f(n.getRangeAt(0)):{x:0,y:0}},p=function(){var n=window.getSelection();return!!(n&&n.rangeCount&&n.focusNode&&(0,o.gZ)(n.focusNode))},v=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode||n.anchorOffset!==n.focusOffset)return!1;var t=(0,o.gZ)(n.focusNode);if(!t)return!1;if(n.focusNode===t&&0===n.focusOffset)return!0;var e=(0,o.NJ)(t);return!!(n.focusNode===e&&0===n.focusOffset||n.focusNode.nodeType===Node.ELEMENT_NODE&&n.focusNode.contains(e)&&0===n.focusOffset)},y=function(){var n,t=window.getSelection();if(!t||!t.rangeCount||!t.focusNode||t.anchorOffset!==t.focusOffset)return!1;var e=(0,o.gZ)(t.focusNode);if(!e)return!1;if(t.focusNode===e)return!0;var r=(0,o.KS)(e);return!!(t.focusNode===r&&t.focusOffset===(null===(n=t.focusNode.textContent)||void 0===n?void 0:n.length)||t.focusNode.nodeType===Node.ELEMENT_NODE&&t.focusNode.contains(r)&&t.focusOffset===t.focusNode.childNodes.length)},h=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode)return!1;var t=(0,o.gZ)(n.focusNode);if(!t)return!1;if(n.focusNode===t)return!0;var e=(0,o.NJ)(t);if(!e)return!0;var r=document.createRange();return r.setStart(e,0),s().y===f(r).y},m=function(){var n,t,e=window.getSelection();if(!e||!e.rangeCount||!e.focusNode)return!1;var r=(0,o.gZ)(e.focusNode);if(!r)return!1;if(e.focusNode===r)return!0;var u=(0,o.KS)(r);if(!u)return!0;var i=document.createRange();return i.setStart(u,null!==(t=null===(n=u.textContent)||void 0===n?void 0:n.length)&&void 0!==t?t:0),s().y===f(i).y},g=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.wx.Start,e=(0,o.C_)(n);if(e){if(t===r.wx.Start){e.focus();return}if(t===r.wx.End){var i,l,a=(0,o.KS)(e);if(!a){e.focus();return}u(a,null!==(l=null===(i=a.textContent)||void 0===i?void 0:i.length)&&void 0!==l?l:0);return}if(t===r.wx.Inherit){var d,c,p=n>(0,o.Xm)(),v=p?(0,o.NJ)(e):(0,o.KS)(e);if(!v){e.focus();return}var y=s().x,h=document.createRange();h.setStart(v,p?0:null!==(c=null===(d=v.textContent)||void 0===d?void 0:d.length)&&void 0!==c?c:0);var m=f(h).y,k=(0,o.ZD)(y,m);if(!k){e.focus();return}if(!1===e.contains(k)){g(n,r.wx.End);return}if(!1===(0,o.ly)(k)){var b=(0,o.FD)(k);if(b){u(b,0);return}u(e,1);return}var N=(0,o.KH)(k,y,m);u(k,N);return}}},k=function(){var n=window.getSelection();if(!n||!n.rangeCount||!n.focusNode)return["",""];var t=(0,o.gZ)(n.focusNode);if(!t)return["",""];var e=document.createRange();e.setStart(t,0),e.setEnd(n.focusNode,n.focusOffset);var r=(0,o.xs)((0,o.df)(e.cloneContents().childNodes)),u=document.createRange();return u.selectNodeContents(t),u.collapse(!1),u.setStart(n.focusNode,n.focusOffset),[r,(0,o.xs)((0,o.df)(u.cloneContents().childNodes))]},b=function(n,t){document.querySelectorAll(".mention").forEach(function(n){return n.setAttribute("contenteditable","true")}),document.execCommand(n,!1,t),document.querySelectorAll(".mention").forEach(function(n){return n.setAttribute("contenteditable","false")})},N=function(){var n,t,e,r={isBold:!1,isItalic:!1,isUnderline:!1,foreColor:"",backColor:"",link:void 0};document.queryCommandState&&(r.isBold=document.queryCommandState("bold"),r.isItalic=document.queryCommandState("italic"),r.isUnderline=document.queryCommandState("underline")),document.queryCommandValue&&(r.foreColor=document.queryCommandValue("foreColor"),r.backColor=document.queryCommandValue("backColor"));var o=window.getSelection();return o&&(r.link=null===(e=o.anchorNode)||void 0===e?void 0:null===(t=e.parentElement)||void 0===t?void 0:null===(n=t.closest("a"))||void 0===n?void 0:n.href),r}},45145:function(n,t,e){e.d(t,{UU:function(){return p},tK:function(){return h},x8:function(){return v},xb:function(){return y}});var r=e(85333),o=e(6692),u=e(44822),i=e(11714),l=e(46152),a=e.n(l),d=e(75652),c=e.n(d),f=e(19358),s=e(93863),p=function(n){var t=[],e=[];return n.forEach(function(u){var l,a,d=u.type,c=u.groupUuid,f=u.groupType;i.$v.includes(d)?(e.push(c),t.push((0,o._)((0,r._)({},u),{payload:(0,o._)((0,r._)({},u.payload),{html:(0,i.Du)(u.payload.safeHTMLSchema,!0)})}))):f===i.kH.Dropdown||f===i.kH.MultiSelect?!1===e.includes(c)&&(e.push(c),t.push((0,o._)((0,r._)({},u),{uuid:u.groupUuid,type:u.groupType,payload:(0,o._)((0,r._)({},u.payload),{placeholder:u.payload.placeholder?(0,i.CL)(u.payload.placeholder):null,options:n.filter(function(n){return n.groupUuid===c}).map(function(n){var t,e,r;return{value:n.uuid,text:n.payload.text?(0,i.CL)(n.payload.text):"",image:null!==(t=n.payload.image)&&void 0!==t?t:null,color:null!==(e=n.payload.color)&&void 0!==e?e:(0,s.yj)(n.payload.index),isOtherOption:null!==(r=n.payload.isOtherOption)&&void 0!==r&&r}})})}))):([i.kH.MultipleChoice,i.kH.Checkboxes,i.kH.Ranking].includes(f)?(null==u?void 0:null===(l=u.payload)||void 0===l?void 0:l.text)&&(u.payload.text=(0,i.CL)(u.payload.text)):(null==u?void 0:null===(a=u.payload)||void 0===a?void 0:a.placeholder)&&(u.payload.placeholder=(0,i.CL)(u.payload.placeholder)),e.push(c),t.push(u))}),t},v=function(n){var t=[],e=[];return n.forEach(function(n){n.type!==i.kH.PageBreak?e.push(n):(t.push(e),e=[])}),e.length>0&&t.push(e),t},y=function(n){var t=c()(n.filter(function(n){var t=n.groupType,e=n.payload,r=n.type;return e.randomize&&i.FW.includes(t)||e.randomizeRows&&r===i.kH.MatrixRow}).map(function(n){return n.groupUuid})),e=(0,u._)(n);return t.forEach(function(t){var u=[],l=[];if(n.forEach(function(n,e){n.groupUuid===t&&n.type!==i.kH.Matrix&&n.type!==i.kH.MatrixColumn&&(u.push(n),l.push(e))}),0!==u.length){var d=[],c=(0,f.p)(u);if(c.length>0){var s=[],p=[];u.forEach(function(n,t){c.includes(n.uuid)&&(s.push(n),p.push(t))}),u=u.filter(function(n){return!c.includes(n.uuid)}),d=a()(u),p.forEach(function(n,t){d.splice(n,0,s[t])})}else d=a()(u);l.forEach(function(n,t){var u=e[n].payload,i=u.columnUuid,a=u.columnListUuid,c=u.columnRatio;e[n]=(0,o._)((0,r._)({},d[t]),{payload:(0,o._)((0,r._)({},d[t].payload),{index:t,isFirst:0===t,isLast:t===l.length-1})}),i&&(e[n].payload.columnUuid=i,e[n].payload.columnListUuid=a,e[n].payload.columnRatio=c)})}}),e},h=function(n,t){var e=c()(n.filter(function(n){return n.groupType===i.kH.Ranking}).map(function(n){return n.groupUuid}));if(0===e.length)return n;var l=(0,u._)(n);return e.forEach(function(e){if(!(0,i.xb)(t[e])){var u=[],a=[];n.forEach(function(n,t){n.groupUuid===e&&(u.push(n),a.push(t))}),a.forEach(function(n,i){var d=void 0,c=t[e][i];if(void 0!==c&&(d=u.find(function(n){return n.uuid===c}),u=u.filter(function(n){return n.uuid!==c})),d||(d=u.shift()),d){var f=l[n].payload,s=f.columnListUuid,p=f.columnUuid,v=f.columnRatio;l[n]=(0,o._)((0,r._)({},d),{payload:(0,o._)((0,r._)({},d.payload),{index:i,isFirst:0===i,isLast:i===a.length-1})}),p&&(l[n].payload.columnUuid=p,l[n].payload.columnListUuid=s,l[n].payload.columnRatio=v)}})}}),l}},37297:function(n,t,e){e.d(t,{d:function(){return s},l:function(){return f}});var r=e(87612),o=e(85333),u=e(6692),i=e(11714),l=e(72558),a=e(58497),d=e(79),c=e(92767),f=function(n,t,e){return((null==e?void 0:e.onlySpecificBlockUuids)?t.filter(function(n){var t;return null===(t=e.onlySpecificBlockUuids)||void 0===t?void 0:t.includes(n.uuid)}):t).filter(function(n){return n.type===i.kH.CalculatedFields}).forEach(function(e){var r=e.groupUuid;e.payload.calculatedFields.forEach(function(e){void 0!==e.value&&(void 0===n[r]&&(n[r]={}),n[r][e.uuid]=(0,d.Jc)(e.value,e.type,n,t))})}),n},s=function(n,t,e,s){if(0===s.filter(function(n){return n.type===i.kH.CalculatedFields}).length||(n=f(n,s),0===s.filter(function(n){return n.type===i.kH.ConditionalLogic}).length))return n;var p=!0,v=!1,y=void 0;try{for(var h,m=t[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var g=h.value,k=(null!==(S=e[g-1])&&void 0!==S?S:[]).filter(function(n){return[i.kH.CalculatedFields,i.kH.ConditionalLogic].includes(n.type)}),b=!0,N=!1,x=void 0;try{for(var S,T,O=k[Symbol.iterator]();!(b=(T=O.next()).done);b=!0){var E=T.value;if(E.type===i.kH.CalculatedFields&&(n=f(n,s,{onlySpecificBlockUuids:[E.uuid]})),E.type===i.kH.ConditionalLogic){var A=E.payload,C=A.logicalOperator,U=A.conditionals,B=A.actions;if((0,c.VX)(U,C,n,s)){var H=!0,w=!1,_=void 0;try{for(var M,F=B[Symbol.iterator]();!(H=(M=F.next()).done);H=!0){var L,R,I,D,P,q,G=M.value;if(G.type===a.Us.Calculate&&(null===(R=G.payload)||void 0===R?void 0:null===(L=R.calculate)||void 0===L?void 0:L.field)&&(null===(D=G.payload)||void 0===D?void 0:null===(I=D.calculate)||void 0===I?void 0:I.operator)&&void 0!==(null===(q=G.payload)||void 0===q?void 0:null===(P=q.calculate)||void 0===P?void 0:P.value)){var Z=(0,d.zp)(n,G.payload.calculate.field),j=(0,d.Jc)(G.payload.calculate.value,G.payload.calculate.field.calculatedFieldType,n,s);switch(G.payload.calculate.field.calculatedFieldType===i.ot.Number&&(Z=new l.O(Z),j=new l.O(j)),G.payload.calculate.operator){case a.LN.Addition:"object"==typeof Z?Z=Z.plus(j):Z+=j;break;case a.LN.Subtraction:Z=Z.minus(j);break;case a.LN.Multiplication:Z=Z.multipliedBy(j);break;case a.LN.Division:Z=Z.dividedBy(j);break;case a.LN.Assignment:Z=j}G.payload.calculate.field.calculatedFieldType===i.ot.Number&&(Z=Z.toNumber()),n=(0,u._)((0,o._)({},n),(0,r._)({},G.payload.calculate.field.blockGroupUuid,(0,u._)((0,o._)({},n[G.payload.calculate.field.blockGroupUuid]),(0,r._)({},G.payload.calculate.field.uuid,Z))))}}}catch(n){w=!0,_=n}finally{try{H||null==F.return||F.return()}finally{if(w)throw _}}}}}}catch(n){N=!0,x=n}finally{try{b||null==O.return||O.return()}finally{if(N)throw x}}}}catch(n){v=!0,y=n}finally{try{p||null==m.return||m.return()}finally{if(v)throw y}}return n}},79:function(n,t,e){e.d(t,{C7:function(){return P},Ee:function(){return O},J0:function(){return q},Jc:function(){return B},KN:function(){return _},MZ:function(){return G},Md:function(){return R},O2:function(){return D},O6:function(){return L},Sz:function(){return V},Tp:function(){return W},X1:function(){return K},_j:function(){return Y},bZ:function(){return I},bm:function(){return M},iM:function(){return A},lL:function(){return F},lo:function(){return U},mh:function(){return J},sy:function(){return H},wm:function(){return X},zj:function(){return w},zp:function(){return C}});var r=e(87612),o=e(85333),u=e(6692),i=e(11714),l=e(83566),a=e(15494),d=e(71119),c=e(45393),f=e.n(c),s=e(6364),p=e(49026),v=e(79213),y=e(53599),h=e(58497),m=e(32304),g=e(63820),k=e(19358),b=e(65068),N=e(47704),x=e(45145),S=e(37297),T=e(92767),O=function(n,t,e,r,o){if(void 0===t)return"";if(i.FW.includes(n))return E(n,t,e,r);if(n===i.kH.InputDate){var u=(0,l.D)(t);return(0,a.J)(u)?o?(0,d.WU)(u,o.f,{locale:o.locale}):(0,d.WU)(u,"MMMM d, yyyy"):""}if(n===i.kH.InputNumber){var c,f,s,p,v=e.find(function(n){return n.groupUuid===r});return(0,i.uf)(t,{decimalSeparator:null==v?void 0:null===(c=v.payload)||void 0===c?void 0:c.decimalSeparator,thousandsSeparator:null==v?void 0:null===(f=v.payload)||void 0===f?void 0:f.thousandsSeparator,prefix:null==v?void 0:null===(s=v.payload)||void 0===s?void 0:s.prefix,suffix:null==v?void 0:null===(p=v.payload)||void 0===p?void 0:p.suffix})}return t},E=function(n,t,e,r){if(!t)return"";if(n===i.kH.Checkboxes||n===i.kH.MultiSelect){var o=e.filter(function(n){return t.includes(n.uuid)}).map(function(n){return n.payload.text}),u=t.find(function(n){return!1===(0,y.K)(n)});return void 0!==u&&o.push(u),o.join(", ")}if(n===i.kH.Ranking)return t.map(function(n){var t,r;return null!==(r=null===(t=e.find(function(t){return t.uuid===n}))||void 0===t?void 0:t.payload.text)&&void 0!==r?r:""}).join(", ");if([i.kH.MultipleChoice,i.kH.Dropdown].includes(n)){if(Array.isArray(t)){var l,a,d=e.filter(function(n){return t.includes(n.uuid)}).map(function(n){return n.payload.text}),c=t.find(function(n){return!1===(0,y.K)(n)});return void 0!==c&&d.push(c),d.join(", ")}return"string"==typeof t&&!1===(0,y.K)(t)?t:null!==(a=null===(l=e.find(function(n){return n.uuid===t}))||void 0===l?void 0:l.payload.text)&&void 0!==a?a:""}if(n===i.kH.Matrix){var f=[];if(f=r?t[r]:t)return f.map(function(n){return(0,k.u)(n,e)}).join(", ")}return t},A=function(n,t,e,r){if("string"==typeof e){if(t===i.kH.Checkboxes||t===i.kH.Ranking||t===i.kH.MultiSelect){var o=r.filter(function(t){return t.groupUuid===n&&t.payload.text===e}).map(function(n){return n.uuid});return o.length>0?o:e.includes(",")?(e.split(/,\s?/).forEach(function(t){var e=r.find(function(e){return e.groupUuid===n&&e.payload.text===t});e&&o.push(e.uuid)}),o.length>0?o:void 0):void 0}if([i.kH.MultipleChoice,i.kH.Dropdown].includes(t)){var u,l=r.find(function(t){return t.groupUuid===n});if((null==l?void 0:l.payload.allowMultiple)&&e.includes(",")){var a=[];return e.split(/,\s?/).forEach(function(t){var e=r.find(function(e){return e.groupUuid===n&&e.payload.text===t});e&&a.push(e.uuid)}),a.length>0?a:void 0}var d=null===(u=r.find(function(t){return t.groupUuid===n&&t.payload.text===e}))||void 0===u?void 0:u.uuid;return d?[d]:void 0}}},C=function(n,t){return t.uuid===t.blockGroupUuid?n[t.uuid]:n[t.blockGroupUuid]?n[t.blockGroupUuid][t.uuid]:""},U=function(n,t,e){var r=C(n,t);return i.FW.includes(t.questionType)&&(r=E(t.questionType,r,e)),r},B=function(n,t,e,r){return(0,i.My)(n)&&(n=U(e,n,r)),t!==i.ot.Number||isNaN(parseFloat(n))||(n=parseFloat(n)),n},H=function(n,t){var e={},r=n.indexOf("?");new URLSearchParams(-1!==r?n.slice(r):"").forEach(function(n,t){e[t]=n});var o={};return t.filter(function(n){return n.type===i.kH.HiddenFields}).forEach(function(n){var t=n.groupUuid;n.payload.hiddenFields.forEach(function(n){(null==n?void 0:n.name)&&void 0!==e[n.name]&&(void 0===o[t]&&(o[t]={}),o[t][n.uuid]=e[n.name])})}),o},w=function(n,t,e,l){var a=(0,S.d)(n,t,e,l),d=l.filter(function(n){return n.type===i.kH.CalculatedFields});return 0===d.length?{}:d.reduce(function(n,t){var e=a[t.groupUuid];return e?(0,u._)((0,o._)({},n),(0,r._)({},t.groupUuid,e)):n},{})},_=function(n,t){var e=(0,v.wf)("FORM_DATA_".concat(n));if(!e)return{};var r=JSON.parse(e),o=Object.keys(r),u=!0,l=!1,a=void 0;try{for(var d,c=o[Symbol.iterator]();!(u=(d=c.next()).done);u=!0)!function(){var n=d.value,e=t.find(function(t){return t.groupUuid===n});if(e&&i.FW.includes(e.groupType)){var o=r[n];if(!(0,i.xb)(o)){var u=t.filter(function(t){return t.groupUuid===n});if(e.groupType===i.kH.Matrix){var l=function(t){if(!u.find(function(n){return n.uuid===t}))return delete r[n][t],"continue";var e=o[t],i=!0,l=!1,a=void 0;try{for(var d,c=e[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)!function(){var e=d.value;u.find(function(n){return n.uuid===e})||(r[n][t]=r[n][t].filter(function(n){return n!==e}))}()}catch(n){l=!0,a=n}finally{try{i||null==c.return||c.return()}finally{if(l)throw a}}};for(var a in o)l(a)}else if(Array.isArray(o)){var c=!0,f=!1,s=void 0;try{for(var p,v=o[Symbol.iterator]();!(c=(p=v.next()).done);c=!0)!function(){var t=p.value,e=u.find(function(n){return n.uuid===t});!e&&!1===(0,y.K)(t)&&u.length>0&&u[0].payload.hasOtherOption&&(e=u[0]),e||(r[n]=r[n].filter(function(n){return n!==t}))}()}catch(n){f=!0,s=n}finally{try{c||null==v.return||v.return()}finally{if(f)throw s}}}else{var h=u.find(function(n){return n.uuid===o});!h&&!1===(0,y.K)(o)&&u.length>0&&u[0].payload.hasOtherOption&&(h=u[0]),h||delete r[n]}}}}()}catch(n){l=!0,a=n}finally{try{u||null==c.return||c.return()}finally{if(l)throw a}}return r},M=function(n,t){(0,v._4)("FORM_DATA_".concat(n),JSON.stringify(t))},F=function(n){(0,v.Tn)("FORM_DATA_".concat(n))},L=function(n){var t="FORM_SESSION_".concat(n),e=(0,v.wf)(t);if(e)return e;var r=(0,s.Z)();return(0,v._4)(t,r),r},R=function(n){(0,v.Tn)("FORM_SESSION_".concat(n))},I=function(n){var t="RESPONDENT",e={},r=(0,v.wf)(t);return r&&(e=JSON.parse(r))&&e[n]||(e[n]=(0,s.Z)(),(0,v._4)(t,JSON.stringify(e))),e[n]},D=function(n,t){return 1===n?t[0]:t.filter(function(n){return n.type===i.kH.PageBreak})[n-2]},P=function(n,t){var e=t.slice(0,n).reverse().filter(function(n){return n.type===i.kH.PageBreak})[0];return null!=e?e:t[0]},q=function(n,t){var e=t.filter(function(n){var t=n.type;return[i.kH.FormTitle,i.kH.PageBreak].includes(t)}).findIndex(function(t){return t.uuid===n});return -1===e?null:e+1},G=function(n){var t=!1;return n.filter(function(n){return n.type===i.kH.PageBreak}).forEach(function(n){var e=n.payload;(null==e?void 0:e.isThankYouPage)&&(t=!0)}),t},Z=function(n){var t=[];return n.forEach(function(n){n.forEach(function(n){var e=n.payload;t.push((null==e?void 0:e.html)||(null==e?void 0:e.placeholder)||"")})}),/password|pa{0,3}s[s|\\*]{0,2}w[0|o|\\*]{0,3}r{0,1}d|pass\sword|pass\*{1,3}w[o]{0,1}rd|jelszó|пароль|kata[\s|-]{0,2}sandi|sandi anda|contrase[ñ|n][y]{0,1}a|senh[a|ä|á]|Passwort|wachtwoord|Passwört|Şifre|m[o|ö]t[s]{0,1} de passe/i.test(t.join(" "))},j=function(n,t,e){var r=n.filter(function(n){return n.type===i.kH.ConditionalLogic});if(0===r.length)return!1;var o=!0,u=!1,l=void 0;try{for(var a,d=r[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var c=a.value.payload,f=c.logicalOperator,s=c.conditionals,p=c.actions,v=!0,y=!1,m=void 0;try{for(var g,k=p[Symbol.iterator]();!(v=(g=k.next()).done);v=!0)if(g.value.type===h.Us.HideButtonToDisableCompletion&&(0,T.VX)(s,f,t,e))return!0}catch(n){y=!0,m=n}finally{try{v||null==k.return||k.return()}finally{if(y)throw m}}}}catch(n){u=!0,l=n}finally{try{o||null==d.return||d.return()}finally{if(u)throw l}}return!1},W=function(n,t,e,r,o,u){var l,a,d,c,f,s,p,v,y,h,k,b=null===(a=e[0])||void 0===a?void 0:null===(l=a.payload)||void 0===l?void 0:l.logo,N=null===(c=e[0])||void 0===c?void 0:null===(d=c.payload)||void 0===d?void 0:d.cover,S=null===(s=e[0])||void 0===s?void 0:null===(f=s.payload)||void 0===f?void 0:f.coverSettings,O=t.length,E=null!==(k=t[n-1])&&void 0!==k?k:[];E=(0,T.dp)(E,e,o,u),E=(0,x.tK)(E,o);var A=(0,T.KZ)(n,E,O,e,o),C=D(n,e),U=!!(null==C?void 0:null===(p=C.payload)||void 0===p?void 0:p.isThankYouPage),B=A?D(A,e):void 0,H=null===A||(null==B?void 0:null===(v=B.payload)||void 0===v?void 0:v.isThankYouPage),w=!U&&!j(E,o,e),_=Array.from((0,g.jZ)(E).values()).filter(function(n){return!1===[i.kH.HiddenFields,i.kH.CalculatedFields].includes(n.type)}),M=!!(null==r?void 0:r.pageAutoJump)&&w&&!H&&1===_.length&&(0,m.SL)(_[0],E),F=_.every(function(n){return void 0!==o[n.blockGroupUuid]&&!1===(0,i.xb)(o[n.blockGroupUuid])});return{logo:b,cover:N,coverSettings:S,pageBlocks:E,pageQuestions:_,nextPage:A,isCustomThankYouPage:U,isLastInputPage:H,canAutoJumpToNextPage:M,pageFilledIn:F,showSubmitButton:w,showBackButton:!U&&1!==n,buttonLabel:null==C?void 0:null===(h=C.payload)||void 0===h?void 0:null===(y=h.button)||void 0===y?void 0:y.label,showMaliciousFormWarning:Z(t)}},K=function(n,t,e,r,o,u){try{var i=[],l=(0,N.VN)((0,x.UU)(o)),a=!0,d=!1,c=void 0;try{for(var f,s=l[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var v=f.value,y=v.uuid,h=v.title,m=v.questionType;i.push({id:y,title:h,type:m,answer:{value:U(u,v,o),raw:C(u,v)}})}}catch(n){d=!0,c=n}finally{try{a||null==s.return||s.return()}finally{if(d)throw c}}return{id:n,formId:e,formName:r,respondentId:t,createdAt:new Date,fields:i}}catch(n){return(0,p.Tb)(n),{}}},V=function(){setTimeout(function(){var n,t,e=null===(n=document.forms[0])||void 0===n?void 0:n.elements[0];e&&(0,b.PZ)(e)&&("INPUT"===e.tagName&&!1===["radio","checkbox"].includes(null!==(t=e.getAttribute("type"))&&void 0!==t?t:"")||"TEXTAREA"===e.tagName)&&e.focus()},100)},J=function(){setTimeout(function(){var n=document.querySelector(".tally-validation-error");if(n){var t=n.closest(".tally-block"),e=null==t?void 0:t.querySelector('[aria-invalid="true"]');if(e){e.focus(),!1===(0,b.PZ)(e)&&e.scrollIntoView({behavior:"smooth",block:"center"});return}!1===(0,b.PZ)(n)&&n.scrollIntoView({behavior:"smooth",block:"center"})}},100)},X=function(){return f()("ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz123456789".split(""),6).join("")},Y=function(n,t,e,r){var o={},u=!0,l=!1,a=void 0;try{for(var d,c=n[Symbol.iterator]();!(u=(d=c.next()).done);u=!0)!function(){var n=d.value;if(n<e)return o[n]=100;if(n>e)return o[n]=0;var u=[],l=!0,a=!1,c=void 0;try{for(var f,s=r[Symbol.iterator]();!(l=(f=s.next()).done);l=!0){var p=f.value,v=p.type,y=p.groupUuid,h=p.payload;!1===i.z8.includes(v)||[i.kH.HiddenFields,i.kH.CalculatedFields].includes(v)||!h.isRequired||u.includes(y)||u.push(y)}}catch(n){a=!0,c=n}finally{try{l||null==s.return||s.return()}finally{if(a)throw c}}if(0===u.length)return o[n]=e<n?0:100;var m=u.length,g=0;u.forEach(function(n){!(0,i.xb)(t[n])&&g++}),o[n]=e<n?0:g/m*100}()}catch(n){l=!0,a=n}finally{try{u||null==c.return||c.return()}finally{if(l)throw a}}return o}},92767:function(n,t,e){e.d(t,{Ai:function(){return b},KZ:function(){return k},VX:function(){return m},dp:function(){return g}});var r=e(87612),o=e(85333),u=e(6692),i=e(44822),l=e(11714),a=e(89166),d=e.n(a),c=e(18149),f=e.n(c),s=e(49026),p=e(53599),v=e(58497),y=e(79),h=function(n,t,e){var r=n.type,o=n.payload;if(r===v.yR.Group&&(null==o?void 0:o.conditionals)&&o.logicalOperator)return m(o.conditionals,o.logicalOperator,t,e);if(r===v.yR.Single&&(null==o?void 0:o.field)&&(null==o?void 0:o.comparison)){var u=o.field,i=o.comparison,a=o.value,c=(0,y.zp)(t,u);(0,l.My)(a)&&(a=(0,y.zp)(t,a));try{switch(i){case v.mO.Is:if(u.questionType===l.kH.Matrix)return Array.isArray(a)||(a=[a]),void 0!==c&&f()(c,a);if(Array.isArray(c))return 1===c.length&&N(c[0],a,e);return void 0!==c&&N(c,a,e);case v.mO.IsNot:if(u.questionType===l.kH.Matrix)return Array.isArray(a)||(a=[a]),void 0!==c&&!f()(c,a);if(Array.isArray(c))return 1!==c.length||!1===N(c[0],a,e);return void 0!==c&&!1===N(c,a,e);case v.mO.IsAnyOf:if(!Array.isArray(a)||!Array.isArray(c))return N(c,a,e);return a.some(function(n){return c.some(function(t){return N(t,n,e)})});case v.mO.IsEveryOf:if(!Array.isArray(a)||!Array.isArray(c))return N(c,a,e);return a.every(function(n){return c.some(function(t){return N(t,n,e)})});case v.mO.Contains:if(Array.isArray(c))return void 0!==a&&c.some(function(n){return N(n,a,e)});return void 0!==c&&void 0!==a&&RegExp(d()(a),"i").test(c);case v.mO.DoesNotContain:if(Array.isArray(c))return void 0!==a&&!1===c.some(function(n){return N(n,a,e)});return void 0!==c&&void 0!==a&&!1===RegExp(d()(a),"i").test(c);case v.mO.StartsWith:return void 0!==c&&void 0!==a&&RegExp("^".concat(d()(a)),"i").test(c);case v.mO.DoesNotStartWith:return void 0!==c&&void 0!==a&&!1===RegExp("^".concat(d()(a)),"i").test(c);case v.mO.EndsWith:return void 0!==c&&void 0!==a&&RegExp("".concat(d()(a),"$"),"i").test(c);case v.mO.DoesNotEndWith:return void 0!==c&&void 0!==a&&!1===RegExp("".concat(d()(a),"$"),"i").test(c);case v.mO.IsEmpty:if(Array.isArray(c))return 0===c.length;return void 0===c||""===c;case v.mO.IsNotEmpty:if(Array.isArray(c))return c.length>0;return void 0!==c&&""!==c;case v.mO.Equal:return Number(c)===Number(a);case v.mO.NotEqual:return Number(c)!==Number(a);case v.mO.GreaterThan:return Number(c)>Number(a);case v.mO.LessThan:return Number(c)<Number(a);case v.mO.GreaterOrEqualThan:return Number(c)>=Number(a);case v.mO.LessOrEqualThan:return Number(c)<=Number(a);case v.mO.IsBefore:if(/^[0-9]{2}:[0-9]{2}$/.test(c))return Date.parse("01/01/2000 ".concat(c))<Date.parse("01/01/2000 ".concat(a));return Date.parse(c)<Date.parse(a);case v.mO.IsAfter:if(/^[0-9]{2}:[0-9]{2}$/.test(c))return Date.parse("01/01/2000 ".concat(c))>Date.parse("01/01/2000 ".concat(a));return Date.parse(c)>Date.parse(a)}}catch(n){(0,s.Tb)(n)}}return!1},m=function(n,t,e,r){var o=n.map(function(n){return h(n,e,r)});return t===v.Fn.And&&o.every(function(n){return n})||t===v.Fn.Or&&o.some(function(n){return n})},g=function(n,t,e,a){var d=t.filter(function(n){return n.type===l.kH.ConditionalLogic}),c=t.filter(function(n){return n.payload.isHidden}).map(function(n){return n.uuid});if(0===d.length&&0===c.length)return n;var f=(0,i._)(n),s=!0,p=!1,y=void 0;try{for(var h,g=d[Symbol.iterator]();!(s=(h=g.next()).done);s=!0){var k=h.value.payload,b=k.logicalOperator,N=k.conditionals,x=k.actions;if(m(N,b,e,t)){var S=!0,T=!1,O=void 0;try{for(var E,A=x[Symbol.iterator]();!(S=(E=A.next()).done);S=!0)!function(){var n,t,e,r=E.value;r.type===v.Us.ShowBlocks&&(null===(n=r.payload)||void 0===n?void 0:n.showBlocks)&&(c=c.filter(function(n){var t,e;return(null===(e=r.payload)||void 0===e?void 0:null===(t=e.showBlocks)||void 0===t?void 0:t.includes(n))===!1})),r.type===v.Us.HideBlocks&&Array.isArray(null===(t=r.payload)||void 0===t?void 0:t.hideBlocks)&&(c=(0,i._)(c).concat((0,i._)(r.payload.hideBlocks))),r.type===v.Us.RequireAnswer&&(null===(e=r.payload)||void 0===e?void 0:e.requireAnswer)&&(f=f.map(function(n){var t,e;return(null===(e=r.payload)||void 0===e?void 0:null===(t=e.requireAnswer)||void 0===t?void 0:t.includes(n.groupUuid))?(0,u._)((0,o._)({},n),{payload:(0,u._)((0,o._)({},n.payload),{isRequired:!0})}):n}))}()}catch(n){T=!0,O=n}finally{try{S||null==A.return||A.return()}finally{if(T)throw O}}}}}catch(n){p=!0,y=n}finally{try{s||null==g.return||g.return()}finally{if(p)throw y}}if(c.length>0){f=f.filter(function(n){return!1===c.includes(n.uuid)});var C=[];if(t.forEach(function(n){var t=n.uuid,d=n.type,s=n.groupUuid,p=n.groupType,v=n.payload;if(!(!1===c.includes(t)||l.TI.includes(d))){if(l.FW.includes(p)&&C.push(s),void 0!==e[s]&&!(v.hasDefaultAnswer&&void 0!==v.defaultAnswer)&&!l.W_.includes(d)){if(d===l.kH.Checkbox||d===l.kH.RankingOption||d===l.kH.MultiSelectOption){if(Array.isArray(e[s])&&e[s].includes(t)){var y=(0,i._)(e[s]);y.splice(y.indexOf(t),1),null==a||a((0,r._)({},s,y))}}else if([l.kH.DropdownOption,l.kH.MultipleChoiceOption].includes(d)){if(Array.isArray(e[s])&&e[s].includes(t)){var h=(0,i._)(e[s]);h.splice(h.indexOf(t),1),null==a||a((0,r._)({},s,h))}else e[s]===t&&(null==a||a((0,r._)({},s,void 0)))}else d!==l.kH.Payment&&(null==a||a((0,r._)({},s,void 0)))}if(d===l.kH.MatrixRow&&void 0!==e[s]&&e[s][t]&&(null==a||a((0,r._)({},s,(0,u._)((0,o._)({},e[s]),(0,r._)({},t,void 0))))),d===l.kH.MatrixColumn&&void 0!==e[s]){var m=Object.keys(e[s]);if(m.length>0){var g=(0,o._)({},e[s]),k=!1;m.forEach(function(n){g[n]&&g[n].includes(t)&&(g[n].splice(g[n].indexOf(t),1),k=!0)}),k&&(null==a||a((0,r._)({},s,g)))}}(d===l.kH.MatrixRow||d===l.kH.MatrixColumn)&&f.filter(function(n){return n.groupUuid===s&&n.type!==l.kH.Matrix}).every(function(n){return!0===n.payload.isHidden})&&(f=f.filter(function(n){return n.groupUuid!==s}))}}),C.length>0){var U=new Map;f=f.map(function(n){if(C.includes(n.groupUuid)&&(n.type===l.kH.Dropdown||n.type===l.kH.MultiSelect))return(0,u._)((0,o._)({},n),{payload:(0,u._)((0,o._)({},n.payload),{options:n.payload.options.filter(function(n){var t=n.value;return!1===c.includes(t)})})});if(C.includes(n.groupUuid)&&[l.kH.MultipleChoiceOption,l.kH.Checkbox,l.kH.RankingOption].includes(n.type)){U.get(n.groupUuid)||U.set(n.groupUuid,{firstBlockUuid:f.find(function(t){return t.groupUuid===n.groupUuid}).uuid,lastBlockUuid:(0,i._)(f).reverse().find(function(t){return t.groupUuid===n.groupUuid}).uuid});var t=U.get(n.groupUuid),e=t.firstBlockUuid,r=t.lastBlockUuid;return(0,u._)((0,o._)({},n),{payload:(0,u._)((0,o._)({},n.payload),{isFirst:e===n.uuid,isLast:r===n.uuid})})}return n}).filter(function(n){return!((n.type===l.kH.Dropdown||n.type===l.kH.MultiSelect)&&0===n.payload.options.length)})}}return f},k=function(n,t,e,r,o){var u=n+1,i=t.filter(function(n){return n.type===l.kH.ConditionalLogic});if(0===i.length)return u&&u<=e?u:null;var a=!0,d=!1,c=void 0;try{for(var f,s=i[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var p=f.value.payload,h=p.logicalOperator,g=p.conditionals,k=p.actions;if(m(g,h,o,r)){var b=!0,N=!1,x=void 0;try{for(var S,T=k[Symbol.iterator]();!(b=(S=T.next()).done);b=!0){var O,E,A,C,U=S.value;U.type===v.Us.JumpToPage&&void 0!==(null===(O=U.payload)||void 0===O?void 0:O.jumpToPage)&&(u=(null===(A=U.payload)||void 0===A?void 0:null===(E=A.jumpToPage)||void 0===E?void 0:E.toString())==="0"?null:"number"==typeof(null===(C=U.payload)||void 0===C?void 0:C.jumpToPage)?U.payload.jumpToPage:(0,y.J0)(U.payload.jumpToPage,r))}}catch(n){N=!0,x=n}finally{try{b||null==T.return||T.return()}finally{if(N)throw x}}}}}catch(n){d=!0,c=n}finally{try{a||null==s.return||s.return()}finally{if(d)throw c}}return u&&u<=e?u:null},b=function(n,t,e){for(var r=[1],o=t.length,u=1;null!==u;){var i,l=u,a=t[l-1];if(u=k(l,a,o,n,e),l===u){u=null;continue}if(null!==u){if(r.includes(u)){u=null;continue}var d=(0,y.O2)(u,n);null!=d&&null!==(i=d.payload)&&void 0!==i&&i.isThankYouPage||r.push(u)}}return r},N=function(n,t,e){var r=n===t;if(!1===r&&"string"==typeof n&&"string"==typeof t&&!1===(0,p.K)(n)&&!0===(0,p.K)(t)){var o,u=e.find(function(n){return n.uuid===t});(null==u?void 0:null===(o=u.payload)||void 0===o?void 0:o.isOtherOption)&&(r=!0)}return r}},3982:function(n,t,e){e.d(t,{Bz:function(){return y},CX:function(){return k},F2:function(){return v},SW:function(){return c},VF:function(){return s},cd:function(){return h},dZ:function(){return m},ii:function(){return b},jW:function(){return p},nf:function(){return f},xB:function(){return g}});var r=e(26969),o=e(11714),u=e(6364),i=e(19358),l=e(65068),a=e(47704),d=e(79),c=function(n){var t=document.createElement("textarea");return t.textContent=n,t.innerHTML},f=function(n){var t=[];return n&&n.forEach&&0!==n.length&&n.forEach(function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)t.push([c(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var e,r,o,u,i,l=[];switch(n.nodeName){case"B":l.push(["font-weight","bold"]);break;case"U":l.push(["text-decoration","underline"]);break;case"I":l.push(["font-style","italic"]);break;case"A":var a=n.href;((null==a?void 0:a.match(/^http(s)?:\/\//))||(null==a?void 0:a.match(/^mailto:/))||(null==a?void 0:a.match(/^tel:/))||(null==a?void 0:a.match(/^sms:/)))&&l.push(["href",a]);break;case"FONT":var d=n.color;(null==d?void 0:d.match(/#[0-9a-fA-F]{3,6}/))&&l.push(["color",d]);break;case"DIV":l.push(["tag","div"]);break;case"P":l.push(["tag","p"]);break;case"BR":l.push(["tag","br"]);break;case"SPAN":l.push(["tag","span"])}var s=n.style;if(((null==s?void 0:null===(e=s.color)||void 0===e?void 0:e.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(r=s.color)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.color)==="inherit")&&l.push(["color",s.color]),((null==s?void 0:null===(o=s.backgroundColor)||void 0===o?void 0:o.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(u=s.backgroundColor)||void 0===u?void 0:u.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.backgroundColor)==="inherit")&&l.push(["background-color",s.backgroundColor]),null==s?void 0:s.fontWeight){var p=null==s?void 0:s.fontWeight;["bolder","lighter"].includes(p)&&(p="bold"),l.push(["font-weight",p])}(null==s?void 0:s.fontStyle)&&l.push(["font-style",s.fontStyle]),(null==s?void 0:s.textDecoration)&&l.push(["text-decoration",s.textDecoration]),(null==s?void 0:s.display)&&l.push(["display",s.display]),"SPAN"===n.nodeName&&(null===(i=n.className)||void 0===i?void 0:i.indexOf("mention"))!==-1&&l.push(["mention",n.dataset.uuid]),l.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?t.push([c(n.childNodes[0].textContent),l]):"BR"===n.nodeName?t.push(["",l]):t.push([f(n.childNodes),l]))}}),t},s=function(n,t,e){return n&&0!==n.length&&0!==t.length?n.map(function(n){var o=(0,r._)(n,2),u=o[0],i=o[1],l=!1,a=null==i?void 0:i.filter(function(n){var o=(0,r._)(n,2),u=o[0],i=o[1];if("mention"===u){var a=t.find(function(n){return n.uuid===i});if(!a||void 0===e.find(function(n){return n.uuid===a.field.uuid}))return l=!0,!1}return!0});return l?["",a]:["string"==typeof u?u:s(u,t,e),i]}):n},p=function(n){var t=document.createElement("div");return t.innerHTML=n,(0,o.Du)(f(t.childNodes))},v=function(n,t,e,r){if("undefined"==typeof document)return"";var u=(0,o.Du)(n.safeHTMLSchema);u=u.replace(/\u200B/g,"");var l=document.createElement("div");l.innerHTML=u;var a=!0,c=!1,f=void 0;try{for(var s,p=n.mentions[Symbol.iterator]();!(a=(s=p.next()).done);a=!0)!function(){var n,u,a=s.value,c=a.uuid,f=a.field,p=a.defaultValue,v=l.querySelectorAll('[data-uuid="'.concat(c,'"]'));if(0!==v.length){var y=f.uuid,h=f.type,m=f.questionType,g=f.blockGroupUuid,k=f.calculatedFieldType,b="";h===o.fS.Metadata?b=r[y]:h===o.fS.InputField&&m&&g?b=m===o.kH.InputDate?null!==(n=e[g])&&void 0!==n?n:"":(0,d.Ee)(m,e[g],t):[o.fS.CalculatedField,o.fS.HiddenField].includes(h)&&y&&g&&(b=e[g]?e[g][y]:""),h===o.fS.CalculatedField&&k===o.ot.Number&&"number"==typeof b&&(b=(0,o.AK)(b,2)),f.questionType===o.kH.Matrix&&(b=(null!==(u=e[f.blockGroupUuid][f.uuid])&&void 0!==u?u:[]).map(function(n){return(0,i.u)(n,t)}).join(",")),(l.textContent.startsWith("http")||l.textContent.startsWith("www."))&&!("string"==typeof b&&-1!==b.indexOf("/"))&&(b=encodeURIComponent(b)),v.forEach(function(n){n.innerHTML=(null==b?void 0:b.toString())||p||""})}}()}catch(n){c=!0,f=n}finally{try{a||null==p.return||p.return()}finally{if(c)throw f}}return(0,o.A9)(l.textContent,!0)},y=function(n){return!(n&&Array.isArray(null==n?void 0:n.safeHTMLSchema))||0===(0,o.Vt)((0,o.Du)(n.safeHTMLSchema)).length},h=function(){var n=document.createElement("div");return n.innerHTML="Tally Forms",{safeHTMLSchema:f(n.childNodes),mentions:[]}},m=function(n){var t=N("Form name",(0,a.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),e=t.mentionObj,r=t.mentionHtml,o=document.createElement("div");return o.innerHTML="New Tally Form Submission for ".concat(r),{safeHTMLSchema:f(o.childNodes),mentions:[e]}},g=function(n){var t=[],e=(0,a.VN)(n),r="",o=!0,u=!1,i=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var c=l.value,s=N(c.title,c),p=s.mentionObj,v=s.mentionHtml;r+="<div><b>".concat(c.title,"</b></div><div>").concat(v,"</div><br/>"),t.push(p)}}catch(n){u=!0,i=n}finally{try{o||null==d.return||d.return()}finally{if(u)throw i}}var y=document.createElement("div");return y.innerHTML=r,{safeHTMLSchema:f(y.childNodes),mentions:t}},k=function(n){var t=[],e="",r=N("Form name",(0,a.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),o=r.mentionObj,u=r.mentionHtml;e+="<div>New submission for *".concat(u,"*.</div><br/>"),t.push(o);var i=!0,l=!1,d=void 0;try{for(var c,s=(0,a.VN)(n)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var p=c.value,v=N(p.title,p),y=v.mentionObj,h=v.mentionHtml;e+="<div>*".concat(p.title,"*: ").concat(h,"</div>"),t.push(y)}}catch(n){l=!0,d=n}finally{try{i||null==s.return||s.return()}finally{if(l)throw d}}var m=document.createElement("div");return m.innerHTML=e,{safeHTMLSchema:f(m.childNodes),mentions:t}},b=function(n){var t=N(n.title,n),e=t.mentionObj,r=t.mentionHtml,o=document.createElement("div");return o.innerHTML=r,{safeHTMLSchema:f(o.childNodes),mentions:[e]}},N=function(n,t){var e=(0,u.Z)();return{mentionObj:{uuid:e,field:t},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(e,'">@').concat(n,"</span>").concat((0,l.G6)()?"​":"")}}}}]);